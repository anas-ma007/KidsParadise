

<div class="d-md-flex half">
  <div class="bg" style="background-image: url('images/bg_1.jpg');"></div>
  <div class="contents">
<br>
    <div class="container">
      <div class="row align-items-center justify-content-center">
        <div class="col-md-12">
          <div class="form-block mx-auto">
            <div class="text-center mb-5">
              <h3 class="text-uppercase">Login to <strong>Kids Paradise</strong></h3>
            </div>
            <form action="/login" method="post">
              <div class="form-group first">
                <label for="username">Email</label>
                <input name="email" type="text" class="form-control" placeholder="your-email@gmail.com" id="username">
                <span id="email-error" class="validation-label text-danger"></span>

              </div>
              <div class="form-group last mb-3">
                <label for="password">Password</label>
                <input name="password" type="password" class="form-control" placeholder="Your Password" id="password">
                <span id="password-error" class="validation-label text-danger"></span>

                <% if (loginErr) { %>
                  <p class="error text-danger font-weight"><%= locals.loginErr %></p>
                <% } %>
               

              </div>
              
              <div class="d-sm-flex mb-5 align-items-center">
                
                <span class="mr-auto"><a href="/signup" class="forgot-pass">Dont have an account ?</a></span> 

                <span class="ml-auto"><a href='/forgotPassword' class="forgot-pass">Forgot Password ?</a></span> 
              </div>

              <input type="submit" value="Log In" class="btn btn-block py-2 btn-primary" onclick="return validateForm()">
              <span id="submit-error" class="validation-label text-danger"></span>


              <span class="text-center my-3 d-block">or</span>
              
              
              <div class="">
              <a href="/otplogin" class="btn btn-block py-2 btn-facebook">
                <span class=" mr-3"></span> Login with OTP
              </a>
             
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script>

var emailError = document.getElementById('email-error');
var passwordError = document.getElementById('password-error');
var submitError = document.getElementById('submit-error');

function validateEmail() {
        var email = document.getElementById('username').value;
        if (email.length == 0) {
            emailError.innerHTML = 'Email is required';
            return false;
        }
        if (!email.match(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/)) {
            emailError.innerHTML = 'Invalid email address..!';
            return false;
        }
        emailError.innerHTML = '';
        return true;
    }
    function validatePassword() {
        var password = document.getElementById('password').value;
        var passChecker = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
        if (password.match(passChecker)) {
            passwordError.innerHTML = '';
            return true;
        } else {
            passwordError.innerHTML = 'Password..!';
            return false;
        }
    }

    function validateForm() {
        if (!validateEmail() || !validatePassword() ) {
            submitError.style.display = 'flex';
            submitError.style.justifyContent = 'center';
            submitError.innerHTML = '';
            setTimeout(() => {
                submitError.style.display = 'none';
            }, 3000);
            return false;
        }
    }
</script>
  
  